{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Box,Container,Typography,Paper,Table,TableBody,TableCell,TableContainer,TableHead,TableRow,Chip,CircularProgress,// Tambahkan ini\nAlert// Tambahkan ini\n}from'@mui/material';import AdminSidebar from'../../components/shared/AdminSidebar';import api from'../../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Reservations(){const[reservations,setReservations]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{fetchReservations();},[]);const fetchReservations=async()=>{try{const response=await api.getBookings();setReservations(response.data);setError(null);}catch(error){var _error$response;console.error('Error fetching reservations:',error);setReservations([]);if(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status)===404){setError('Endpoint reservasi tidak ditemukan. Silakan hubungi administrator.');}else{setError('Gagal memuat data reservasi. Silakan coba lagi nanti.');}}finally{setLoading(false);}};const getStatusColor=status=>{switch(status.toLowerCase()){case'pending':return'warning';case'confirmed':return'success';case'cancelled':return'error';default:return'default';}};return/*#__PURE__*/_jsxs(Box,{sx:{display:'flex'},children:[/*#__PURE__*/_jsx(AdminSidebar,{}),/*#__PURE__*/_jsx(Box,{component:\"main\",sx:{flexGrow:1,p:3,bgcolor:'#f5f5f5',minHeight:'100vh'},children:/*#__PURE__*/_jsxs(Container,{maxWidth:\"lg\",sx:{mt:4},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",sx:{mb:4,fontWeight:'bold',color:'#1976d2'},children:\"Manajemen Reservasi\"}),/*#__PURE__*/_jsxs(Paper,{sx:{p:3,boxShadow:3},children:[error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{mb:2},children:error}),loading?/*#__PURE__*/_jsx(Box,{sx:{display:'flex',justifyContent:'center',p:3},children:/*#__PURE__*/_jsx(CircularProgress,{})}):reservations.length===0?/*#__PURE__*/_jsx(Box,{sx:{p:3,textAlign:'center',color:'#666'},children:/*#__PURE__*/_jsx(Typography,{children:\"Tidak ada data reservasi yang tersedia\"})}):/*#__PURE__*/_jsx(TableContainer,{children:/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{sx:{bgcolor:'#f5f5f5'},children:[/*#__PURE__*/_jsx(TableCell,{children:\"ID Reservasi\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Nama Tamu\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Check-in\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Check-out\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Status\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:reservations.map(reservation=>/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:reservation.id}),/*#__PURE__*/_jsx(TableCell,{children:reservation.guestName}),/*#__PURE__*/_jsx(TableCell,{children:new Date(reservation.checkIn).toLocaleDateString()}),/*#__PURE__*/_jsx(TableCell,{children:new Date(reservation.checkOut).toLocaleDateString()}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsx(Chip,{label:reservation.status,color:getStatusColor(reservation.status),size:\"small\"})})]},reservation.id))})]})})]})]})})]});}export default Reservations;","map":{"version":3,"names":["React","useState","useEffect","Box","Container","Typography","Paper","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Chip","CircularProgress","Alert","AdminSidebar","api","jsx","_jsx","jsxs","_jsxs","Reservations","reservations","setReservations","loading","setLoading","error","setError","fetchReservations","response","getBookings","data","_error$response","console","status","getStatusColor","toLowerCase","sx","display","children","component","flexGrow","p","bgcolor","minHeight","maxWidth","mt","variant","mb","fontWeight","color","boxShadow","severity","justifyContent","length","textAlign","map","reservation","id","guestName","Date","checkIn","toLocaleDateString","checkOut","label","size"],"sources":["C:/Users/USER/Documents/Collage/SEM 6/CC/Tugas/Reservation_Project/frontend/src/pages/Admin/Reservations.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { \r\n  Box, \r\n  Container, \r\n  Typography, \r\n  Paper, \r\n  Table, \r\n  TableBody, \r\n  TableCell, \r\n  TableContainer, \r\n  TableHead, \r\n  TableRow,\r\n  Chip,\r\n  CircularProgress,  // Tambahkan ini\r\n  Alert            // Tambahkan ini\r\n} from '@mui/material';\r\nimport AdminSidebar from '../../components/shared/AdminSidebar';\r\nimport api from '../../services/api';\r\n\r\nfunction Reservations() {\r\n  const [reservations, setReservations] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchReservations();\r\n  }, []);\r\n\r\n  const fetchReservations = async () => {\r\n    try {\r\n      const response = await api.getBookings();\r\n      setReservations(response.data);\r\n      setError(null);\r\n    } catch (error) {\r\n      console.error('Error fetching reservations:', error);\r\n      setReservations([]);\r\n      if (error.response?.status === 404) {\r\n        setError('Endpoint reservasi tidak ditemukan. Silakan hubungi administrator.');\r\n      } else {\r\n        setError('Gagal memuat data reservasi. Silakan coba lagi nanti.');\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const getStatusColor = (status) => {\r\n    switch (status.toLowerCase()) {\r\n      case 'pending':\r\n        return 'warning';\r\n      case 'confirmed':\r\n        return 'success';\r\n      case 'cancelled':\r\n        return 'error';\r\n      default:\r\n        return 'default';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box sx={{ display: 'flex' }}>\r\n      <AdminSidebar />\r\n      <Box component=\"main\" sx={{ flexGrow: 1, p: 3, bgcolor: '#f5f5f5', minHeight: '100vh' }}>\r\n        <Container maxWidth=\"lg\" sx={{ mt: 4 }}>\r\n          <Typography variant=\"h4\" sx={{ mb: 4, fontWeight: 'bold', color: '#1976d2' }}>\r\n            Manajemen Reservasi\r\n          </Typography>\r\n          \r\n          <Paper sx={{ p: 3, boxShadow: 3 }}>\r\n            {error && (\r\n              <Alert severity=\"error\" sx={{ mb: 2 }}>\r\n                {error}\r\n              </Alert>\r\n            )}\r\n            \r\n            {loading ? (\r\n              <Box sx={{ display: 'flex', justifyContent: 'center', p: 3 }}>\r\n                <CircularProgress />\r\n              </Box>\r\n            ) : reservations.length === 0 ? (\r\n              <Box sx={{ p: 3, textAlign: 'center', color: '#666' }}>\r\n                <Typography>Tidak ada data reservasi yang tersedia</Typography>\r\n              </Box>\r\n            ) : (\r\n              <TableContainer>\r\n                <Table>\r\n                  <TableHead>\r\n                    <TableRow sx={{ bgcolor: '#f5f5f5' }}>\r\n                      <TableCell>ID Reservasi</TableCell>\r\n                      <TableCell>Nama Tamu</TableCell>\r\n                      <TableCell>Check-in</TableCell>\r\n                      <TableCell>Check-out</TableCell>\r\n                      <TableCell>Status</TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                    {reservations.map((reservation) => (\r\n                      <TableRow key={reservation.id}>\r\n                        <TableCell>{reservation.id}</TableCell>\r\n                        <TableCell>{reservation.guestName}</TableCell>\r\n                        <TableCell>{new Date(reservation.checkIn).toLocaleDateString()}</TableCell>\r\n                        <TableCell>{new Date(reservation.checkOut).toLocaleDateString()}</TableCell>\r\n                        <TableCell>\r\n                          <Chip \r\n                            label={reservation.status} \r\n                            color={getStatusColor(reservation.status)}\r\n                            size=\"small\"\r\n                          />\r\n                        </TableCell>\r\n                      </TableRow>\r\n                    ))}\r\n                  </TableBody>\r\n                </Table>\r\n              </TableContainer>\r\n            )}\r\n          </Paper>\r\n        </Container>\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n\r\nexport default Reservations;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}