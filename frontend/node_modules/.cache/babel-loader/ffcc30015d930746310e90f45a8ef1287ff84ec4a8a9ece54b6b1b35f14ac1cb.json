{"ast":null,"code":"import React,{useState}from'react';import{Box,Container,TextField,Button,Typography,Paper,Alert}from'@mui/material';import{useNavigate}from'react-router-dom';import{useAuth}from'../../contexts/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){const navigate=useNavigate();const{login}=useAuth();const[credentials,setCredentials]=useState({username:'',password:''});const[loading,setLoading]=useState(false);const[error,setError]=useState(null);const handleChange=e=>{setCredentials({...credentials,[e.target.name]:e.target.value});};const handleSubmit=async e=>{e.preventDefault();try{setLoading(true);setError(null);console.log('Attempting login with:',credentials);const result=await login(credentials);console.log('Login result:',result);if(result.success){navigate('/admin/dashboard');}else{setError(result.error||'Login gagal: Username atau password salah');}}catch(error){console.error('Login error:',error);setError('Login gagal: '+(error.message||'Terjadi kesalahan'));}finally{setLoading(false);}};return/*#__PURE__*/_jsx(Container,{maxWidth:\"sm\",sx:{minHeight:'100vh',display:'flex',alignItems:'center',py:4},children:/*#__PURE__*/_jsx(Paper,{elevation:3,sx:{width:'100%',p:4},children:/*#__PURE__*/_jsxs(Box,{component:\"form\",onSubmit:handleSubmit,sx:{display:'flex',flexDirection:'column',alignItems:'center'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",sx:{mb:4,fontWeight:'bold'},children:\"Admin Login\"}),error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{mb:2,width:'100%'},children:error}),/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,label:\"Username\",name:\"username\",autoFocus:true,value:credentials.username,onChange:handleChange,sx:{mb:2}}),/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,label:\"Password\",name:\"password\",type:\"password\",value:credentials.password,onChange:handleChange,sx:{mb:3}}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",disabled:loading,sx:{py:1.5,backgroundColor:'#1976d2','&:hover':{backgroundColor:'#1565c0'}},children:loading?'LOADING...':'LOGIN'})]})})});}export default Login;","map":{"version":3,"names":["React","useState","Box","Container","TextField","Button","Typography","Paper","Alert","useNavigate","useAuth","jsx","_jsx","jsxs","_jsxs","Login","navigate","login","credentials","setCredentials","username","password","loading","setLoading","error","setError","handleChange","e","target","name","value","handleSubmit","preventDefault","console","log","result","success","message","maxWidth","sx","minHeight","display","alignItems","py","children","elevation","width","p","component","onSubmit","flexDirection","variant","mb","fontWeight","severity","margin","required","fullWidth","label","autoFocus","onChange","type","disabled","backgroundColor"],"sources":["C:/Users/USER/Documents/Collage/SEM 6/CC/Tugas/Reservation_Project/frontend/src/pages/Auth/Login.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Box, Container, TextField, Button, Typography, Paper, Alert } from '@mui/material';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\n\r\nfunction Login() {\r\n  const navigate = useNavigate();\r\n  const { login } = useAuth();\r\n  const [credentials, setCredentials] = useState({\r\n    username: '',\r\n    password: ''\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const handleChange = (e) => {\r\n    setCredentials({\r\n      ...credentials,\r\n      [e.target.name]: e.target.value\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      console.log('Attempting login with:', credentials);\r\n      const result = await login(credentials);\r\n      console.log('Login result:', result);\r\n      \r\n      if (result.success) {\r\n          navigate('/admin/dashboard');\r\n      } else {\r\n          setError(result.error || 'Login gagal: Username atau password salah');\r\n      }\r\n    } catch (error) {\r\n      console.error('Login error:', error);\r\n      setError('Login gagal: ' + (error.message || 'Terjadi kesalahan'));\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container maxWidth=\"sm\" sx={{ \r\n      minHeight: '100vh',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      py: 4 \r\n    }}>\r\n      <Paper elevation={3} sx={{ width: '100%', p: 4 }}>\r\n        <Box component=\"form\" onSubmit={handleSubmit} sx={{ \r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          alignItems: 'center'\r\n        }}>\r\n          <Typography variant=\"h4\" sx={{ mb: 4, fontWeight: 'bold' }}>\r\n            Admin Login\r\n          </Typography>\r\n          \r\n          {error && (\r\n            <Alert severity=\"error\" sx={{ mb: 2, width: '100%' }}>\r\n              {error}\r\n            </Alert>\r\n          )}\r\n\r\n          <TextField\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            label=\"Username\"\r\n            name=\"username\"\r\n            autoFocus\r\n            value={credentials.username}\r\n            onChange={handleChange}\r\n            sx={{ mb: 2 }}\r\n          />\r\n          <TextField\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            label=\"Password\"\r\n            name=\"password\"\r\n            type=\"password\"\r\n            value={credentials.password}\r\n            onChange={handleChange}\r\n            sx={{ mb: 3 }}\r\n          />\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            disabled={loading}\r\n            sx={{\r\n              py: 1.5,\r\n              backgroundColor: '#1976d2',\r\n              '&:hover': {\r\n                backgroundColor: '#1565c0'\r\n              }\r\n            }}\r\n          >\r\n            {loading ? 'LOADING...' : 'LOGIN'}\r\n          </Button>\r\n        </Box>\r\n      </Paper>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}